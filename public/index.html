<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Barracuda Family — System</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body>
  <div class="bg-animation">
      <div class="bg-grid"></div>
      <div class="bg-glow"></div>
  </div>

  <div id="preloader">
      <div class="loader-content">
          <div class="loader-logo"></div>
          <div class="loader-text" id="loaderText">BARRACUDA</div>
          <div class="loader-bar"><div class="bar-fill"></div></div>
      </div>
  </div>

  <div id="toastContainer"></div>

  <div class="site">
    <header class="site-header">
      <div class="container header-inner">
        <a class="brand" href="#home">
          <div class="logo"></div>
          <div class="brand-text">
            <div class="title">Barracuda</div>
          </div>
        </a>
        
        <nav class="site-nav" id="mainNav">
          <ul>
            <li><a href="#home" data-lang="home">ГОЛОВНА</a></li>
            <li><a href="#about" data-lang="about">ІНФО</a></li>
            <li><a href="#members" data-lang="members">СКЛАД</a></li>
            <li><a href="#gallery" data-lang="gallery">ГАЛЕРЕЯ</a></li>
            <li><a href="#redux" class="primary-link" data-lang="redux">REDUX</a></li>
          </ul>
        </nav>

        <div class="header-actions">
            <button id="openAuthBtn" class="btn btn-login">
                <i class="fa-solid fa-user-secret"></i> <span id="authBtnText" data-lang="login">ВХІД</span>
            </button>

            <div class="lang-custom-wrapper">
                <button id="langTrigger" class="lang-trigger-btn">
                    <div style="display:flex; align-items:center; gap:6px;">
                        <img id="currentFlagImg" src="https://flagcdn.com/w40/ua.png" class="lang-flag-icon" alt="flag">
                        <span id="currentLangLabel">UKR</span>
                    </div>
                </button>
                <div id="langDropdown" class="lang-dropdown-grid">
                    <div class="lang-option active" data-lang="ua"><img src="https://flagcdn.com/w40/ua.png" class="lang-flag-icon"><span>УКРАЇНСЬКА</span></div>
                    <div class="lang-option" data-lang="en"><img src="https://flagcdn.com/w40/gb.png" class="lang-flag-icon"><span>ENGLISH</span></div>
                    <div class="lang-option" data-lang="ru"><img src="https://flagcdn.com/w40/ru.png" class="lang-flag-icon"><span>РУССКИЙ</span></div>
                </div>
            </div>
            
            <button id="navToggle" class="nav-toggle"><i class="fa-solid fa-bars"></i></button>
        </div>
      </div>
    </header>

    <main>
      <section id="home" class="hero">
        <div class="container hero-content">
            <div class="hero-text">
                <div class="glitch-wrapper">
                    <h1 class="glitch-text" data-text="BARRACUDA">BARRACUDA</h1>
                </div>
                
                <p class="owner-lead">
                    <span data-lang="owner_label">ВЛАСНИК СІМ'Ї:</span> <span class="highlight-neon">TRITON BARRACUDA</span>
                </p>
                
                <div class="hero-buttons">
                    <a href="#redux" class="btn btn-primary btn-large glow-effect" data-lang="redux">REDUX</a>
                    <a href="#members" class="btn btn-outline btn-large" data-lang="hero_members">СКЛАД</a>
                </div>
            </div>
        </div>
      </section>

      <section id="about" class="section">
        <div class="container">
          <div class="section-header">
              <h2><span class="highlight" data-lang="about_title_span">ХТО</span> <span data-lang="about_title">МИ Є</span></h2>
          </div>
          <div class="glass-panel about-main-text animate-hidden">
             <p class="about-desc" data-lang="about_main_desc">BARRACUDA — це елітна сім'я та організація...</p>
          </div>
          <div class="cards">
            <article class="card server-card" onclick="showOwnerInfo('stake')">
                <div class="card-icon"><i class="fa-solid fa-server"></i></div>
                <h3 data-lang="server_stake">Stake RP</h3>
            </article>
            <article class="card server-card" onclick="showOwnerInfo('chicago')">
                <div class="card-icon"><i class="fa-solid fa-city"></i></div>
                <h3 data-lang="server_chicago">Majestic Chicago</h3>
            </article>
            <article class="card server-card" onclick="showOwnerInfo('ny')">
                <div class="card-icon"><i class="fa-solid fa-building"></i></div>
                <h3 data-lang="server_ny">Majestic NY</h3>
            </article>
          </div>
        </div>
      </section>

      <section id="members" class="section">
        <div class="container">
          <div class="section-header"><h2><span class="highlight" data-lang="members_title_span">НАШ</span> <span data-lang="members_title">СКЛАД</span></h2></div>
          <div class="members-controls glass">
            <i class="fa-solid fa-search"></i>
            <input id="memberSearch" placeholder="Пошук агента...">
          </div>
          <div id="membersGrid" class="members-grid"></div>
        </div>
      </section>

      <section id="redux" class="section">
          <div class="container">
              <div class="section-header"><h2><span class="highlight">BARRACUDA</span> REDUX</h2></div>
              <div class="redux-intro center-text">
                  <p>Оптимізовані модифікації для каптів та бизварів. Завантажуй та перемагай.</p>
              </div>
              <div id="reduxGrid" class="cards">
                  </div>
          </div>
      </section>

      <section id="gallery" class="section">
        <div class="container">
          <div class="section-header"><h2 data-lang="gallery_title">ГАЛЕРЕЯ</h2></div>
          <div class="gallery-controls admin-only glass">
            <input id="galleryUrl" placeholder="Посилання на фото (URL)">
            <button id="addGalleryBtn" class="btn btn-primary">ДОДАТИ ФОТО</button>
          </div>
          <div id="galleryGrid" class="gallery-grid"></div>
        </div>
      </section>

      <section id="videos" class="section" style="display:none;">
          <div class="container">
              <div class="section-header"><h2><span class="highlight" data-lang="videos_title">МЕДІЙКИ</span></h2></div>
              <div class="gallery-controls admin-only glass">
                  <input id="videoTitle" placeholder="Назва відео">
                  <input id="videoUrl" placeholder="Посилання на YouTube/Video">
                  <button id="addVideoBtn" class="btn btn-primary">ДОДАТИ ВІДЕО</button>
              </div>
              <div id="videosGrid" class="cards"></div>
          </div>
      </section>

      <section id="apply" class="section footer-section">
        <div class="container center-text">
          <h2 class="neon-title" data-lang="join_system_title">ПРИЄДНУЙСЯ ДО СИСТЕМИ</h2>
          <div class="action-buttons">
              <button id="applyBtnMain" onclick="document.getElementById('openAuthBtn').click()" class="btn btn-primary btn-large">
                  <i class="fa-solid fa-file-signature"></i> <span data-lang="access_terminal">ДОСТУП ДО ТЕРМІНАЛУ</span>
              </button>
              <a href="https://discord.gg/CxYnyKeb" target="_blank" class="btn btn-discord btn-large">
                  <i class="fa-brands fa-discord"></i> DISCORD
              </a>
          </div>
        </div>
      </section>
    </main>
    
    <footer><div class="container"><p>© BARRACUDA FAMILY</p></div></footer>
  </div>

  <div id="dashboardModal" class="dashboard-modal">
    <button id="closeDashBtn" class="dash-close-global"><i class="fa-solid fa-xmark"></i></button>
    <div class="dashboard-window">
        <div class="dash-mobile-header">
            <div style="display:flex; align-items:center; gap:15px;">
                <button id="dashMobileToggle" class="btn btn-outline btn-icon"><i class="fa-solid fa-bars"></i></button>
                <span class="dash-mobile-title">PANEL</span>
            </div>
        </div>
        <div class="dash-sidebar" id="dashSidebar">
            <div class="dash-brand"><i class="fa-solid fa-skull"></i></div>
            <div class="dash-user-card">
                <div class="dash-avatar"><i class="fa-solid fa-user-secret"></i></div>
                <div class="dash-info"><span id="dashUsername">...</span><small id="dashRole">Гість</small></div>
            </div>
            <nav class="dash-nav">
                <div class="nav-section-label">Особисте</div>
                <button class="active" onclick="switchDashTab('profile')">Профіль</button>
                <button onclick="switchDashTab('my-member')">Мій Персонаж</button>
                <button onclick="switchDashTab('apply')">Заявка</button>
                <button onclick="switchDashTab('support-user')">Техпідтримка</button>
                
                <div class="staff-only-nav" style="display:none;">
                    <div class="nav-section-label">Персонал</div>
                    <button onclick="switchDashTab('applications')">Заявки</button>
                    <button onclick="switchDashTab('support-staff')">Тікети</button>
                </div>
                
                <div class="admin-only-nav" style="display:none;">
                    <div class="nav-section-label">Адмін</div>
                    <button onclick="switchDashTab('redux-admin')" style="color: #00e5ff;"><i class="fa-solid fa-download"></i> Керування Redux</button>
                    <button onclick="switchDashTab('users')">Ролі</button>
                    <button onclick="switchDashTab('admin-members')">Склад</button>
                    <button onclick="switchDashTab('accounts-data')">БД</button>
                </div>
            </nav>
            <button id="logoutBtn" class="btn btn-logout">ВИХІД</button>
        </div>
        <div class="dash-sidebar-overlay" id="dashOverlay"></div>
        <div class="dash-content">
            <div id="tab-profile" class="dash-view active">
                <div class="dash-header"><h2>Кабінет</h2></div>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-info"><label>LOGIN</label><div id="pLogin">---</div></div></div>
                    <div class="stat-card accent-border"><div class="stat-info"><label>ROLE</label><div id="pRole">---</div></div></div>
                </div>
            </div>

            <div id="tab-my-member" class="dash-view">
                <div class="dash-header"><h2>Налаштування</h2></div>
                <div id="createMemberBlock" style="text-align:center;"><p>Персонаж не знайдений.</p></div>
                <div id="myMemberContainer" style="display:none;" class="glass-panel"></div>
            </div>
            
            <div id="tab-apply" class="dash-view">
                <div class="dash-header"><h2>Заявка</h2></div>
                <div id="applyStatusContainer" class="status-box"></div>
                <div class="compact-square-container"><form id="dashAppForm" class="modern-form glass-panel"><div class="form-row"><input id="appRlName" placeholder="Ім'я"><input id="appAge" placeholder="Вік"></div><input id="appOnline" placeholder="Онлайн"><input id="appFamilies" placeholder="Сім'ї"><textarea id="appHistory" placeholder="Історія"></textarea><input id="appNote" placeholder="Відео/Примітка"><button type="submit" class="btn btn-primary full-width">ВІДПРАВИТИ</button></form></div>
            </div>

            <div id="tab-admin-members" class="dash-view">
                <button id="openAdminAddMember" class="btn btn-primary" style="margin-bottom:15px;">Додати Учасника</button>
                <div id="adminAddMemberContainer" style="display:none;" class="glass-panel">
                    <form id="adminAddMemberForm">
                        <div class="form-row">
                            <input id="admName" placeholder="Ім'я в грі (Required)" required>
                            <input id="admRole" placeholder="Ранг (Required)" required>
                        </div>
                        <div class="form-row">
                            <input id="admOwner" placeholder="Логін власника (User)">
                            <input id="admServer" placeholder="Сервер">
                        </div>
                        <div class="form-row">
                             <input id="admDiscord" placeholder="Discord Link">
                             <input id="admYoutube" placeholder="YouTube Link">
                        </div>
                        <button type="submit" class="btn btn-primary full-width">ЗБЕРЕГТИ</button>
                    </form>
                </div>
                <div id="adminMembersList"></div>
            </div>

            <div id="tab-redux-admin" class="dash-view">
                <div class="dash-header"><h2>Керування Redux</h2></div>
                <div class="glass-panel">
                    <input id="reduxTitle" placeholder="Назва Redux / Опис">
                    <input id="reduxUrl" placeholder="Посилання на завантаження">
                    <button id="addReduxBtn" class="btn btn-primary full-width">ДОДАТИ REDUX</button>
                </div>
                <div id="adminReduxList" class="compact-list"></div>
            </div>

            <div id="tab-support-user" class="dash-view"><div class="dash-header"><h2>Support</h2></div><form id="createTicketForm"><input id="ticketTitle" placeholder="Тема"><textarea id="ticketMessage" placeholder="Текст"></textarea><button class="btn btn-primary">Create</button></form><div id="myTicketsList"></div></div>
            <div id="tab-applications" class="dash-view"><div id="applicationsList"></div></div>
            <div id="tab-support-staff" class="dash-view"><div id="allTicketsList"></div></div>
            <div id="tab-users" class="dash-view"><div id="adminUsersList"></div></div>
            <div id="tab-accounts-data" class="dash-view"><button onclick="loadAccountsData()" class="btn btn-primary">Refresh</button><table class="data-table"><tbody id="accountsDataTableBody"></tbody></table></div>
        </div>
    </div>
  </div>

  <div id="authModal" class="auth-modal">
    <div class="auth-content glass">
      <span id="closeAuth" class="close-auth">&times;</span>
      <h2 class="auth-title">СИСТЕМА</h2>
      <div class="auth-tabs"><button id="tabLogin" class="active">ВХІД</button><button id="tabRegister">РЕЄСТРАЦІЯ</button></div>
      <form id="loginForm"><input id="loginUser" placeholder="Логін"><input type="password" id="loginPass" placeholder="Пароль"><button type="submit" class="btn btn-primary full-width">ВХІД</button></form>
      <form id="registerForm" style="display:none;"><input id="regUser" placeholder="Логін"><input id="regEmail" placeholder="Email"><input type="password" id="regPass" placeholder="Пароль"><input type="password" id="regPassConfirm" placeholder="Підтвердіть"><button type="submit" class="btn btn-primary full-width">РЕЄСТРАЦІЯ</button></form>
    </div>
  </div>

  <div id="ownerInfoModal" class="custom-modal">
      <div class="custom-modal-content">
          <h3 id="ownerModalTitle">SERVER</h3>
          <div id="ownerPromo">/promo</div>
          <a id="ownerDiscordBtn" href="#" target="_blank" class="btn-discord">DISCORD</a>
          <button class="btn-close-modal" onclick="document.getElementById('ownerInfoModal').classList.remove('show')">CLOSE</button>
      </div>
  </div>

  <div id="ticketModal" class="custom-modal"><div class="custom-modal-content ticket-modal-content"><h3 id="tmTitle">TICKET</h3><span id="tmCloseTicketBtn" class="btn">CLOSE</span><div id="tmMessages" class="chat-area"></div><input id="tmInput"><button id="tmSendBtn">Send</button></div></div>
  <div id="lightbox" class="custom-modal lightbox"><span id="lightboxCloseBtn" class="close-modal" onclick="document.getElementById('lightbox').classList.remove('show')">&times;</span><img id="lightboxImage" src=""></div>
  
  <script src="script.js"></script>
</body>
</html>
