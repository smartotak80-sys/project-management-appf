<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Barracuda Family — Account</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body>
  <div class="bg-animation">
      <div class="bg-grid"></div>
  </div>

  <div id="preloader">
      <div class="loader-content">
          <div class="loader-text">BARRACUDA FAMILY</div>
          <div class="loader-bar"><div class="bar-fill"></div></div>
      </div>
  </div>

  <div id="toastContainer"></div>

  <div class="site">
    <header class="site-header">
      <div class="container header-inner">
        <a class="brand" href="#home">
          <div class="logo"></div>
          <div class="brand-text">
            <div class="title">Barracuda</div>
            <div class="subtitle">Family Portal</div>
          </div>
        </a>
        <button id="navToggle" class="nav-toggle"><i class="fa-solid fa-bars"></i></button>
        <nav class="site-nav" id="mainNav">
          <ul>
            <li><a href="#home">ГОЛОВНА</a></li>
            <li><a href="#about">ІНФО</a></li>
            <li><a href="#members">СКЛАД</a></li>
            <li><a href="#gallery">МЕДІА</a></li>
            <li class="auth-li">
              <button id="openAuthBtn" class="btn btn-login">
                <i class="fa-solid fa-user"></i> <span id="authBtnText">ВХІД</span>
              </button>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <main>
      <section id="home" class="hero">
        <div class="container hero-content">
            <div class="hero-text">
                <h1>BARRACUDA</h1>
                <p class="lead">ЕЛІТНА СІМ'Я НА STAKE RP. ДОМІНУВАННЯ. СТИЛЬ. ДИСЦИПЛІНА.</p>
                <div class="hero-buttons">
                    <a href="#apply" class="btn btn-primary btn-large">ПРИЄДНАТИСЬ</a>
                    <a href="#members" class="btn btn-outline btn-large">СКЛАД</a>
                </div>
            </div>
        </div>
      </section>

      <section id="about" class="section">
        <div class="container">
          <div class="section-header"><h2><span class="highlight">ХТО</span> МИ Є</h2></div>
          <div class="cards">
            <article class="card glass">
                <div class="card-icon"><i class="fa-solid fa-crosshairs"></i></div>
                <h3>МІСІЯ</h3>
                <p>Ми не просто граємо, ми встановлюємо нові стандарти. Наша мета — повний контроль над ключовими точками впливу, створення бездоганної репутації та домінування в усіх сферах життя штату.</p>
            </article>
            <article class="card glass">
                <div class="card-icon"><i class="fa-solid fa-shield-halved"></i></div>
                <h3>ЗАХИСТ</h3>
                <p>Сім'я — це єдиний організм. Будь-яка загроза одному з нас розглядається як напад на всіх. Ми діємо миттєво, жорстко та організовано, не залишаючи ворогам жодного шансу на реванш.</p>
            </article>
            <article class="card glass">
                <div class="card-icon"><i class="fa-solid fa-sack-dollar"></i></div>
                <h3>РЕСУРСИ</h3>
                <p>Ми забезпечуємо наших людей усім необхідним: від елітного автопарку та найкращого озброєння до фінансової підтримки. Кожен член сім'ї має твердий фундамент для впевненої гри.</p>
            </article>
          </div>
        </div>
      </section>

      <section id="members" class="section">
        <div class="container">
          <div class="section-header"><h2><span class="highlight">НАШ</span> СКЛАД</h2></div>
          <div id="membersGrid" class="members-grid"></div>
        </div>
      </section>

      <section id="gallery" class="section">
        <div class="container">
          <div class="section-header"><h2>ГАЛЕРЕЯ</h2></div>
          <div id="galleryGrid" class="gallery-grid"></div>
        </div>
      </section>

      <section id="apply" class="section footer-section">
        <div class="container center-text">
          <h2 class="neon-title">ПРИЄДНУЙСЯ ДО СІМ'Ї</h2>
          <p id="applyText" class="apply-desc">Увійдіть в акаунт, щоб подати заявку, або перейдіть в наш Discord.</p>
          
          <div class="action-buttons">
              <button id="applyBtnMain" onclick="document.getElementById('openAuthBtn').click()" class="btn btn-primary btn-large">
                  <i class="fa-solid fa-file-pen"></i> ПОДАТИ ЗАЯВКУ
              </button>
              <a href="https://discord.gg/CxYnyKeb" target="_blank" class="btn btn-discord btn-large">
                  <i class="fa-brands fa-discord"></i> DISCORD
              </a>
          </div>
        </div>
      </section>
    </main>
    
    <footer>
      <div class="container"><p>© <span id="year"></span> BARRACUDA FAMILY.</p></div>
    </footer>
  </div>

  <div id="authModal" class="auth-modal">
    <div class="auth-content glass">
      <span id="closeAuth" class="close-auth">&times;</span>
      <h2 class="auth-title">ВХІД В АКАУНТ</h2>
      <div class="auth-tabs">
        <button id="tabLogin" class="active">ВХІД</button>
        <button id="tabRegister">РЕЄСТРАЦІЯ</button>
      </div>
      <form id="loginForm">
        <input type="text" id="loginUser" placeholder="Логін" required>
        <input type="password" id="loginPass" placeholder="Пароль" required>
        <button type="submit" class="btn btn-primary full-width btn-large">УВІЙТИ В АКАУНТ</button>
      </form>
      <form id="registerForm" style="display: none;">
        <input type="text" id="regUser" placeholder="Логін" required>
        <input type="email" id="regEmail" placeholder="Email" required>
        <input type="password" id="regPass" placeholder="Пароль" required>
        <input type="password" id="regPassConfirm" placeholder="Підтвердіть пароль" required>
        <button type="submit" class="btn btn-primary full-width btn-large">СТВОРИТИ АКАУНТ</button>
      </form>
    </div>
  </div>

  <div id="dashboardModal" class="dashboard-modal">
    <button id="closeDashBtn" class="dash-close-global"><i class="fa-solid fa-xmark"></i></button>
    <div class="dashboard-window">
        <div class="dash-mobile-header">
            <button id="dashMobileToggle" class="btn btn-outline"><i class="fa-solid fa-bars"></i></button>
            <span style="font-weight:bold; color:#fff;">BARRACUDA ACCOUNT</span>
        </div>
        <div class="dash-sidebar" id="dashSidebar">
            <div style="font-size:20px; font-weight:900; color:#fff; margin-bottom:30px;">
                <i class="fa-solid fa-user-circle"></i> ОСОБИСТИЙ <span style="color:var(--accent)">АКАУНТ</span>
            </div>
            <div class="dash-user-card" style="margin-bottom:20px; padding:15px; background:rgba(255,255,255,0.05); border-radius:10px;">
                <div id="dashUsername" style="font-weight:bold; color:#fff;">User</div>
                <div id="dashRole" style="font-size:12px; color:#888;">Role</div>
            </div>
            <nav class="dash-nav">
                <button class="active" onclick="switchDashTab('profile')"><i class="fa-regular fa-id-card"></i> Профіль</button>
                <button onclick="switchDashTab('apply')"><i class="fa-solid fa-file-signature"></i> Заявка</button>
                <button onclick="switchDashTab('support-user')"><i class="fa-solid fa-headset"></i> Підтримка</button>
                <div class="staff-only-nav" style="display:none; margin-top:10px; padding-top:10px; border-top:1px solid #333;">
                    <div style="font-size:10px; color:#666; margin-bottom:5px;">STAFF</div>
                    <button onclick="switchDashTab('applications')"><i class="fa-solid fa-folder"></i> Заявки</button>
                    <button onclick="switchDashTab('support-staff')"><i class="fa-solid fa-clipboard-list"></i> Тікети</button>
                </div>
                <div class="admin-only-nav" style="display:none; margin-top:10px;">
                    <div style="font-size:10px; color:#666; margin-bottom:5px;">ADMIN</div>
                    <button onclick="switchDashTab('users')"><i class="fa-solid fa-users-gear"></i> Ролі</button>
                    <button onclick="switchDashTab('admin-members')"><i class="fa-solid fa-sitemap"></i> Склад</button>
                    <button onclick="switchDashTab('accounts-data')" style="color:#ff6b6b;"><i class="fa-solid fa-database"></i> База акаунтів</button>
                    <button onclick="switchDashTab('logs')"><i class="fa-solid fa-terminal"></i> Логи</button>
                </div>
            </nav>
            <button id="logoutBtn" style="margin-top:auto; background:rgba(255,0,0,0.1); color:#ff6b6b; border:1px solid rgba(255,0,0,0.2); padding:10px; width:100%; border-radius:6px; cursor:pointer;">ВИХІД</button>
        </div>
        <div class="dash-sidebar-overlay" id="dashOverlay"></div>
        <div class="dash-content">
            <div id="tab-profile" class="dash-view active">
                <div class="dash-header"><h2>Мій Кабінет</h2></div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div style="font-size:30px;"><i class="fa-solid fa-user"></i></div>
                        <div><div style="font-size:12px; color:#888;">ЛОГІН</div><div id="pLogin" style="font-size:20px; font-weight:bold;">---</div></div>
                    </div>
                    <div class="stat-card accent-border">
                        <div style="font-size:30px; color:var(--accent);"><i class="fa-solid fa-shield"></i></div>
                        <div><div style="font-size:12px; color:#888;">ДОСТУП</div><div id="pRole" style="font-size:20px; font-weight:bold; color:var(--accent);">---</div></div>
                    </div>
                </div>
            </div>
            
            <div id="tab-apply" class="dash-view">
                <div class="dash-header"><h2>Подача заявки</h2></div>
                <div id="applyStatusContainer" style="display:none; padding:20px; border:1px solid #333; border-radius:10px; margin-bottom:20px;"></div>
                <form id="dashAppForm" class="modern-form glass-panel">
                    <input type="text" id="appRlNameAge" required placeholder="Ім'я та вік (OOC)">
                    <input type="text" id="appOnline" required placeholder="Онлайн (годин/день)">
                    <textarea id="appHistory" required rows="3" placeholder="Ваша історія на проекті..."></textarea>
                    <input type="text" id="appVideo" required placeholder="Відео стрільби (посилання)">
                    <button type="submit" class="btn btn-primary full-width">ВІДПРАВИТИ ЗАЯВКУ</button>
                </form>
            </div>

            <div id="tab-support-user" class="dash-view">
                <div class="dash-header"><h2>Підтримка</h2></div>
                <div class="glass-panel">
                    <form id="createTicketForm" class="modern-form">
                        <input type="text" id="ticketTitle" placeholder="Тема запиту" required>
                        <textarea id="ticketMessage" rows="3" placeholder="Опис проблеми..." required></textarea>
                        <button type="submit" class="btn btn-primary full-width">СТВОРИТИ ТІКЕТ</button>
                    </form>
                    <div id="myTicketsList" style="margin-top:20px;"></div>
                </div>
            </div>

            <div id="tab-applications" class="dash-view">
                <div class="dash-header"><h2>Вхідні заявки</h2></div>
                <div id="applicationsList" style="display:grid; gap:10px;"></div>
            </div>

            <div id="tab-support-staff" class="dash-view">
                <div class="dash-header"><h2>Всі тікети</h2></div>
                <div id="allTicketsList" style="display:grid; gap:10px;"></div>
            </div>

            <div id="tab-users" class="dash-view">
                <div class="dash-header"><h2>Користувачі</h2></div>
                <div id="adminUsersList"></div>
            </div>

            <div id="tab-accounts-data" class="dash-view">
                <div class="dash-header"><h2 style="color:#ff6b6b;">База акаунтів</h2> <button onclick="loadAccountsData()" class="btn btn-outline">Оновити</button></div>
                <div class="glass-panel" style="overflow-x:auto;">
                    <table class="data-table">
                        <thead><tr><th>USER</th><th>EMAIL</th><th>PASS</th><th>ROLE</th><th>DATE</th></tr></thead>
                        <tbody id="accountsDataTableBody"></tbody>
                    </table>
                </div>
            </div>
            
            <div id="tab-admin-members" class="dash-view">
                <div class="dash-header"><h2>Склад</h2> <button id="openAdminAddMember" class="btn btn-primary">+</button></div>
                <div id="adminAddMemberContainer" class="glass-panel" style="display:none;">
                    <form id="adminAddMemberForm" class="modern-form">
                        <input type="text" id="admName" placeholder="Name" required>
                        <input type="text" id="admRole" placeholder="Role" required>
                        <input type="text" id="admOwner" placeholder="Owner Login" required>
                        <button type="submit" class="btn btn-primary full-width">Add</button>
                    </form>
                </div>
                <div id="adminMembersList"></div>
            </div>

            <div id="tab-logs" class="dash-view">
                <div class="dash-header"><h2>Логи</h2> <button onclick="window.clearLogs()" class="btn btn-outline">Очистити</button></div>
                <div id="systemLogsList" style="background:#000; padding:15px; font-family:monospace; color:#0f0; height:300px; overflow-y:auto;"></div>
            </div>
        </div>
    </div>
  </div>

  <div id="ticketModal" class="auth-modal">
      <div class="auth-content glass" style="max-width:600px;">
          <span onclick="document.getElementById('ticketModal').classList.remove('show')" class="close-auth">&times;</span>
          <h3 id="tmTitle" style="color:#fff;">ТІКЕТ</h3>
          <div id="tmMessages" style="height:300px; overflow-y:auto; background:rgba(0,0,0,0.3); padding:10px; margin-bottom:10px; border-radius:6px;"></div>
          <div style="display:flex; gap:10px;">
            <input type="text" id="tmInput" style="flex:1; margin:0;" placeholder="Повідомлення...">
            <button id="tmSendBtn" class="btn btn-primary">></button>
          </div>
          <button id="tmCloseTicketBtn" class="btn btn-outline full-width" style="margin-top:10px; border-color:#e74c3c; color:#e74c3c;">ЗАКРИТИ ТІКЕТ</button>
      </div>
  </div>

  <div id="lightbox" class="auth-modal">
    <span id="lightboxCloseBtn" class="close-auth" style="top:20px; right:30px; font-size:40px;">&times;</span>
    <img id="lightboxImage" src="" style="max-width:90%; max-height:90%; border:2px solid var(--accent); border-radius:10px;">
  </div>

  <div id="customConfirmModal" class="auth-modal">
    <div class="auth-content glass" style="text-align:center; max-width:350px;">
        <p id="confirmMessage" style="color:#fff; margin-bottom:20px; font-size:18px;"></p>
        <div style="display:flex; justify-content:center; gap:20px;">
            <button id="confirmCancelBtn" class="btn btn-outline">НІ</button>
            <button id="confirmOkBtn" class="btn btn-primary">ТАК</button>
        </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
