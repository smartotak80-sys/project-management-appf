<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Barracuda Family — System</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body>
  <div class="bg-animation">
      <div class="bg-grid"></div>
      <div class="bg-glow"></div>
  </div>

  <div id="preloader">
      <div class="loader-content">
          <div class="loader-logo"></div>
          <div class="loader-text" id="loaderText" data-value="BARRACUDA">BARRACUDA</div>
          <div class="loader-bar"><div class="bar-fill"></div></div>
      </div>
  </div>

  <div id="toastContainer"></div>

  <div class="site">
    <header class="site-header">
      <div class="container header-inner">
        <a class="brand" href="#home">
          <div class="logo"></div>
          <div class="brand-text">
            <div class="title">Barracuda</div>
          </div>
        </a>
        
        <nav class="site-nav" id="mainNav">
          <ul>
            <li><a href="#home" data-lang="home">ГОЛОВНА</a></li>
            <li><a href="#about" data-lang="about">ІНФО</a></li>
            <li><a href="#members" data-lang="members">СКЛАД</a></li>
            <li><a href="#gallery" data-lang="media">МЕДІА</a></li>
            <li><a href="#apply" class="primary-link" data-lang="apply">ВСТУП</a></li>
          </ul>
        </nav>

        <div class="header-actions">
            <button id="openAuthBtn" class="btn btn-login">
                <i class="fa-solid fa-user-secret"></i> <span id="authBtnText" data-lang="login">ВХІД</span>
            </button>

            <div class="lang-custom-wrapper">
                <button id="langTrigger" class="lang-trigger-btn">
                    <div style="display:flex; align-items:center; gap:8px;">
                        <img id="currentFlagImg" src="https://flagcdn.com/w40/ua.png" class="lang-flag-icon" alt="flag">
                        <span id="currentLangLabel">UKR</span>
                    </div>
                    <i class="fa-solid fa-chevron-down" style="font-size: 10px; margin-left: 8px; opacity: 0.7;"></i>
                </button>
                <div id="langDropdown" class="lang-dropdown-grid">
                    <div class="lang-option" data-lang="en"><img src="https://flagcdn.com/w40/gb.png" class="lang-flag-icon"><span>ENGLISH</span></div>
                    <div class="lang-option" data-lang="de"><img src="https://flagcdn.com/w40/de.png" class="lang-flag-icon"><span>DEUTSCH</span></div>
                    <div class="lang-option" data-lang="es"><img src="https://flagcdn.com/w40/es.png" class="lang-flag-icon"><span>ESPAÑOL</span></div>
                    <div class="lang-option" data-lang="pt"><img src="https://flagcdn.com/w40/br.png" class="lang-flag-icon"><span>PORTUGUÊS</span></div>
                    <div class="lang-option" data-lang="pl"><img src="https://flagcdn.com/w40/pl.png" class="lang-flag-icon"><span>POLSKI</span></div>
                    <div class="lang-option" data-lang="ru"><img src="https://flagcdn.com/w40/ru.png" class="lang-flag-icon"><span>РУССКИЙ</span></div>
                    <div class="lang-option active" data-lang="ua" style="grid-column: 1 / -1; background: rgba(255,255,255,0.08);"><img src="https://flagcdn.com/w40/ua.png" class="lang-flag-icon"><span>УКРАЇНСЬКА</span></div>
                </div>
            </div>
            
            <button id="navToggle" class="nav-toggle"><i class="fa-solid fa-bars"></i></button>
        </div>
      </div>
    </header>

    <main>
      <section id="home" class="hero">
        <div class="container hero-content">
            <div class="hero-text">
                <div class="glitch-wrapper">
                    <h1 class="glitch-text" data-text="BARRACUDA">BARRACUDA</h1>
                </div>
                <div class="hero-buttons">
                    <a href="#apply" class="btn btn-primary btn-large glow-effect" data-lang="hero_btn">ПРИЄДНАТИСЬ</a>
                    <a href="#members" class="btn btn-outline btn-large" data-lang="hero_members">СКЛАД</a>
                </div>
            </div>
        </div>
      </section>

      <section id="about" class="section">
        <div class="container">
          <div class="section-header"><h2><span class="highlight" data-lang="about_title_span">ХТО</span> <span data-lang="about_title">МИ Є</span></h2></div>
          <div class="cards">
            <article class="card glass">
                <div class="card-icon"><i class="fa-solid fa-crosshairs"></i></div>
                <h3 data-lang="card_mission">МІСІЯ</h3>
                <p data-lang="card_mission_desc">Створення унікального RP досвіду та домінування в сферах впливу.</p>
            </article>
            <article class="card glass">
                <div class="card-icon"><i class="fa-solid fa-shield-halved"></i></div>
                <h3 data-lang="card_protection">ЗАХИСТ</h3>
                <p data-lang="card_protection_desc">Ми стоїмо один за одного. Сім'я — це непорушна фортеця.</p>
            </article>
            <article class="card glass">
                <div class="card-icon"><i class="fa-solid fa-sack-dollar"></i></div>
                <h3 data-lang="card_resources">РЕСУРСИ</h3>
                <p data-lang="card_resources_desc">Забезпечення кожного учасника усім необхідним для комфортної гри.</p>
            </article>
          </div>
        </div>
      </section>

      <section id="members" class="section">
        <div class="container">
          <div class="section-header"><h2><span class="highlight" data-lang="members_title_span">НАШ</span> <span data-lang="members_title">СКЛАД</span></h2></div>
          <div class="members-controls glass">
            <i class="fa-solid fa-search"></i>
            <input id="memberSearch" placeholder="Пошук агента..." data-lang-placeholder="ph_search_agent">
          </div>
          <div id="membersGrid" class="members-grid"></div>
        </div>
      </section>

      <section id="events" class="section">
        <div class="container">
            <div class="section-header"><h2><span data-lang="news_title">СТРІЧКА</span> <span class="highlight" data-lang="news_title_span">НОВИН</span></h2></div>
            <div class="events-controls admin-only glass">
                <input id="newsTitle" placeholder="Заголовок" data-lang-placeholder="ph_news_title">
                <input id="newsDate" type="date">
                <textarea id="newsSummary" placeholder="Текст новини..." data-lang-placeholder="ph_news_text"></textarea>
                <button id="addNewsBtn" class="btn btn-primary" data-lang="btn_publish">ПУБЛІКУВАТИ</button>
            </div>
            <div id="newsList"></div>
        </div>
      </section>
      
      <section id="gallery" class="section">
        <div class="container">
            <div class="section-header"><h2 data-lang="gallery_title">ГАЛЕРЕЯ</h2></div>
            <div class="gallery-controls admin-only glass">
                <input id="galleryUrl" placeholder="Посилання на фото (URL)" data-lang-placeholder="ph_photo_url">
                <button id="addGalleryBtn" class="btn btn-primary" data-lang="btn_add_photo">ДОДАТИ ФОТО</button>
            </div>
            <div id="galleryGrid" class="gallery-grid"></div>
        </div>
      </section>

      <section id="apply" class="section footer-section">
        <div class="container center-text">
          <h2 class="neon-title" data-lang="join_system_title">ПРИЄДНУЙСЯ ДО СИСТЕМИ</h2>
          <p id="applyText" class="apply-desc" data-lang="join_system_desc">Авторизуйтесь, щоб отримати доступ до закритого розділу подачі заявок.</p>
          <div class="action-buttons">
              <button id="applyBtnMain" onclick="document.getElementById('openAuthBtn').click()" class="btn btn-primary btn-large">
                  <i class="fa-solid fa-file-signature"></i> <span data-lang="access_terminal">ДОСТУП ДО ТЕРМІНАЛУ</span>
              </button>
              <a href="https://discord.gg/CxYnyKeb" target="_blank" class="btn btn-discord btn-large">
                  <i class="fa-brands fa-discord"></i> DISCORD
              </a>
          </div>
        </div>
      </section>
    </main>
    
    <footer>
      <div class="container"><p>© <span id="year"></span> <span data-lang="footer">BARRACUDA FAMILY. STAKE RP.</span></p></div>
    </footer>
  </div>

  <div id="dashboardModal" class="dashboard-modal">
      <button id="closeDashBtn" class="dash-close-global" title="Закрити панель"><i class="fa-solid fa-xmark"></i></button>
      <div class="dashboard-window">
          <div class="dash-mobile-header">
              <div style="display:flex; align-items:center; gap:15px;">
                  <button id="dashMobileToggle" class="btn btn-outline btn-icon"><i class="fa-solid fa-bars"></i></button>
                  <span class="dash-mobile-title" style="font-weight:bold; letter-spacing:1px;">PANEL v3.0</span>
              </div>
          </div>
          <div class="dash-sidebar" id="dashSidebar">
              <div class="dash-brand"><i class="fa-solid fa-skull"></i></div>
              <div class="dash-user-card">
                  <div class="dash-avatar"><i class="fa-solid fa-user-secret"></i></div>
                  <div class="dash-info"><span id="dashUsername">Loading...</span><small id="dashRole">Guest</small></div>
              </div>
              <nav class="dash-nav">
                  <div class="nav-section-label" data-lang="nav_label_personal">Особисте</div>
                  <button class="active" onclick="switchDashTab('profile')"><i class="fa-regular fa-id-card"></i> <span data-lang="nav_profile">Профіль</span></button>
                  <button onclick="switchDashTab('my-member')"><i class="fa-solid fa-user-secret"></i> <span data-lang="nav_character">Мій Персонаж</span></button>
                  <button onclick="switchDashTab('apply')"><i class="fa-solid fa-paper-plane"></i> <span data-lang="nav_application">Заявка</span></button>
                  <button onclick="switchDashTab('support-user')"><i class="fa-solid fa-headset"></i> <span data-lang="nav_support">Техпідтримка</span></button>
                  <div class="staff-only-nav" style="display:none;">
                      <div class="nav-section-label" data-lang="nav_label_staff">Персонал</div>
                      <button id="navAppsBtn" onclick="switchDashTab('applications')"><i class="fa-solid fa-folder-tree"></i> <span data-lang="nav_staff_apps">Розгляд заявок</span></button>
                      <button id="navTicketsBtn" onclick="switchDashTab('support-staff')"><i class="fa-solid fa-clipboard-list"></i> <span data-lang="nav_staff_tickets">Тікети</span></button>
                  </div>
                  <div class="admin-only-nav" style="display:none;">
                      <div class="nav-section-label" data-lang="nav_label_admin">Адміністратор</div>
                      <button onclick="switchDashTab('users')"><i class="fa-solid fa-users-gear"></i> <span data-lang="nav_admin_users">Ролі</span></button>
                      <button onclick="switchDashTab('admin-members')"><i class="fa-solid fa-sitemap"></i> <span data-lang="nav_admin_roster">Склад</span></button>
                      <button onclick="switchDashTab('accounts-data')" style="color: #ff6b6b;"><i class="fa-solid fa-database"></i> <span data-lang="nav_admin_db">База</span></button>
                      <button onclick="switchDashTab('logs')"><i class="fa-solid fa-terminal"></i> <span data-lang="nav_admin_logs">Логи</span></button>
                  </div>
              </nav>
              <button id="logoutBtn" class="btn btn-logout"><i class="fa-solid fa-power-off"></i> <span data-lang="btn_logout">ЗАВЕРШИТИ</span></button>
          </div>
          <div class="dash-sidebar-overlay" id="dashOverlay"></div>
          <div class="dash-content">
              <div id="tab-profile" class="dash-view active"><div class="dash-header"><h2 data-lang="dash_profile_title">Особистий кабінет</h2></div><div class="stats-grid"><div class="stat-card"><div class="stat-icon"><i class="fa-solid fa-id-card"></i></div><div class="stat-info"><label style="color:#666; font-size:10px; font-weight:bold;" data-lang="lbl_login">ВАШ ЛОГІН</label><div id="pLogin" style="font-size:20px; font-weight:bold;">---</div></div></div><div class="stat-card accent-border"><div class="stat-icon"><i class="fa-solid fa-user-shield"></i></div><div class="stat-info"><label style="color:#666; font-size:10px; font-weight:bold;" data-lang="lbl_access">РІВЕНЬ</label><div id="pRole" style="font-size:20px; font-weight:bold; color:var(--accent);">---</div></div></div></div></div>
              <div id="tab-my-member" class="dash-view"><div class="dash-header"><h2 data-lang="dash_char_title">Персонаж</h2></div><div id="myMemberContainer" class="glass-panel"></div><div id="myMemberStatusPanel" class="glass-panel" style="display:none;"><div class="control-group"><select id="memberStatusSelect"><option value="Активний">Active</option><option value="Патруль">Patrol</option><option value="Неактив">Inactive</option></select><button id="saveStatusBtn" class="btn btn-primary" data-lang="btn_update_status">ОНОВИТИ</button></div></div></div>
              <div id="tab-apply" class="dash-view"><div class="dash-header"><h2 data-lang="dash_apply_title">Заявка</h2></div><div id="applyStatusContainer" class="status-box"></div><div class="compact-square-container"><form id="dashAppForm" class="modern-form glass-panel" style="padding: 30px;"><div class="form-row"><input type="text" id="appRlName" required placeholder="Name"><input type="number" id="appAge" required placeholder="Age"></div><input type="text" id="appOnline" required placeholder="Online"><input type="text" id="appFamilies" required placeholder="Families"><textarea id="appHistory" required placeholder="History"></textarea><input type="text" id="appNote" required placeholder="Link"><button type="submit" class="btn btn-primary full-width" data-lang="btn_submit_app">ВІДПРАВИТИ</button></form></div></div>
              <div id="tab-support-user" class="dash-view"><div class="dash-header"><h2 data-lang="dash_support_title">Підтримка</h2></div><div class="form-row"><div class="glass-panel"><form id="createTicketForm" class="modern-form"><input type="text" id="ticketTitle" required placeholder="Title"><textarea id="ticketMessage" required placeholder="Text"></textarea><button type="submit" class="btn btn-primary full-width" data-lang="btn_create_ticket">ВІДКРИТИ</button></form></div><div class="glass-panel"><div id="myTicketsList" class="scroll-list"></div></div></div></div>
              <div id="tab-applications" class="dash-view"><div class="dash-header"><h2 data-lang="dash_staff_apps_title">Заявки</h2></div><div id="applicationsList" class="grid-list"></div></div>
              <div id="tab-support-staff" class="dash-view"><div class="dash-header"><h2 data-lang="dash_staff_tickets_title">Тікети</h2></div><div id="allTicketsList" class="grid-list"></div></div>
              <div id="tab-users" class="dash-view"><div class="dash-header"><h2 data-lang="dash_admin_users_title">Користувачі</h2></div><div id="adminUsersList" class="compact-list"></div></div>
              <div id="tab-accounts-data" class="dash-view"><div class="dash-header"><h2 style="color:#ff6b6b;"><span data-lang="dash_admin_db_title">БАЗА</span></h2><button onclick="loadAccountsData()" class="btn btn-outline btn-icon"><i class="fa-solid fa-rotate"></i></button></div><div class="glass-panel" style="overflow-x:auto;"><table class="data-table"><thead><tr><th>LOGIN</th><th>EMAIL</th><th>PASS</th><th>ROLE</th><th>DATE</th></tr></thead><tbody id="accountsDataTableBody"></tbody></table></div></div>
              <div id="tab-admin-members" class="dash-view"><div class="dash-header"><h2 data-lang="dash_admin_roster_title">Склад</h2><button id="openAdminAddMember" class="btn btn-primary" data-lang="btn_add_member">Add</button></div><div id="adminAddMemberContainer" class="glass-panel" style="display:none;"><form id="adminAddMemberForm"><div class="form-row"><input id="admName" required placeholder="Name"><input id="admRole" required placeholder="Role"></div><input id="admOwner" required placeholder="Owner"><div class="form-row"><input id="admDiscord" placeholder="DS"><input id="admYoutube" placeholder="YT"></div><button class="btn btn-primary full-width" data-lang="btn_save_db">SAVE</button></form></div><div id="adminMembersList" class="compact-list"></div></div>
              <div id="tab-logs" class="dash-view"><div class="dash-header"><h2 data-lang="dash_admin_logs_title">Логи</h2><button onclick="window.clearLogs()" class="btn btn-outline btn-small" data-lang="btn_clear_history">CLEAR</button></div><div id="systemLogsList" class="terminal-view"></div></div>
          </div>
      </div>
  </div>

  <div id="authModal" class="auth-modal">
    <div class="auth-content glass">
      <span id="closeAuth" class="close-auth">&times;</span>
      <h2 class="auth-title" data-lang="auth_title">СИСТЕМНИЙ ВХІД</h2>
      <div class="auth-tabs">
        <button id="tabLogin" class="active" data-lang="tab_login">ВХІД</button>
        <button id="tabRegister" data-lang="tab_register">РЕЄСТРАЦІЯ</button>
      </div>
      <form id="loginForm"><input id="loginUser" placeholder="Login"><input type="password" id="loginPass" placeholder="Pass"><button class="btn btn-primary full-width" data-lang="btn_login_submit">ВХІД</button></form>
      <form id="registerForm" style="display:none;"><input id="regUser" placeholder="Login"><input id="regEmail" placeholder="Email"><input type="password" id="regPass" placeholder="Pass"><input type="password" id="regPassConfirm" placeholder="Confirm"><button class="btn btn-primary full-width" data-lang="btn_register_submit">РЕЄСТРАЦІЯ</button></form>
    </div>
  </div>
  
  <div id="customConfirmModal" class="custom-modal"><div class="custom-modal-content glass center-text"><p id="confirmMessage"></p><div class="confirm-actions"><button id="confirmCancelBtn" class="btn btn-outline" data-lang="btn_cancel">Cancel</button><button id="confirmOkBtn" class="btn btn-primary" data-lang="btn_confirm">Confirm</button></div></div></div>
  <div id="ticketModal" class="custom-modal"><div class="custom-modal-content ticket-modal-content glass"><div class="ticket-header"><h3 id="tmTitle">TICKET</h3><span id="tmCloseTicketBtn" class="btn btn-outline btn-small" data-lang="btn_close_ticket">CLOSE</span><span onclick="document.getElementById('ticketModal').classList.remove('show')" class="close-modal">&times;</span></div><div id="tmMessages" class="chat-area"></div><div class="chat-input-area"><input id="tmInput" placeholder="..." data-lang-placeholder="ph_chat_input"><button id="tmSendBtn" class="btn btn-primary" data-lang="btn_send">SEND</button></div></div></div>
  <div id="lightbox" class="custom-modal lightbox"><span id="lightboxCloseBtn" class="close-modal">&times;</span><img id="lightboxImage" src=""></div>
  <div id="cyberModal" class="cyber-modal-overlay"><div class="cyber-modal-window"><div class="corner c-tl"></div><div class="corner c-tr"></div><div class="corner c-bl"></div><div class="corner c-br"></div><div class="cyber-header"><div class="header-line"></div><h3>SYSTEM</h3><button class="cyber-close-btn" onclick="closeCyberModal()"><i class="fa-solid fa-xmark"></i></button></div><div class="cyber-content" id="cyberModalContent"></div><div class="cyber-footer"><button class="btn btn-primary" onclick="closeCyberModal()" data-lang="btn_understood">OK</button></div></div></div>

  <script src="script.js"></script>
</body>
</html>
